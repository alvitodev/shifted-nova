---
// src/components/Panel.astro
interface Props {
  class?: string;
  title?: string;
}

const { class: className, title } = Astro.props;
---

<div class:list={[
  // GUNAKAN 'bg-card' DAN 'text-card-foreground' AGAR ADAPTIF
  "relative group border border-border bg-card text-card-foreground backdrop-blur-md p-6 overflow-hidden shadow-sm",
  className
]}>
  
  {/* Dekorasi: Garis Aksen (Kiri) */}
  <div class="absolute top-0 left-0 w-[2px] h-full bg-border group-hover:bg-primary transition-colors duration-300 ease-out z-20"></div>

  {/* Dekorasi: Kotak Sudut */}
  <div class="absolute top-0 right-0 w-4 h-4 border-b border-l border-border z-20 opacity-50 group-hover:opacity-100 transition-opacity"></div>
  <div class="absolute bottom-0 left-0 w-4 h-4 border-t border-r border-border z-20 opacity-50 group-hover:opacity-100 transition-opacity"></div>

  {/* Scanline (Hanya terlihat di Dark Mode via opacity rendah di light) */}
  <div class="absolute inset-0 bg-gradient-to-b from-transparent via-primary/5 to-transparent opacity-0 group-hover:opacity-100 pointer-events-none animate-scan z-10"></div>

  {/* Header Panel */}
  {title && (
    <div class="relative flex items-center gap-3 mb-6 border-b border-border pb-3 z-20">
      <div class="relative flex h-2 w-2">
        <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"></span>
        <span class="relative inline-flex rounded-full h-2 w-2 bg-primary"></span>
      </div>
      <h2 class="font-mono text-xs font-bold text-muted-foreground uppercase tracking-[0.2em] group-hover:text-foreground transition-colors">
        {title}
      </h2>
    </div>
  )}

  <div class="relative z-20">
    <slot />
  </div>
</div>

<style>
  @keyframes scan {
    0% { transform: translateY(-100%); }
    100% { transform: translateY(100%); }
  }
  .animate-scan {
    animation: scan 2.5s linear infinite;
  }
</style>
